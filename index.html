<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>apiko</title>
    <link rel="icon" type="image/svg" sizes="32x32" href="./icon.jfif">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
          crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="style.css"/>
    <style>
        [v-cloak] {
            display: none;
        }
    </style>
</head>
<body>


<div id="app" class="site" v-cloak>

    <component-login
            v-if="login"
            v-on:toregistration="hide_login"
            v-on:tomain="to_main">
    </component-login>

    <component-registration
            v-if="registration"
            v-on:tologin="hide_registration">
    </component-registration>

    <component-header
            v-on:addproduct="add_product"
            v-on:search="search"
            v-on:tologin="hide_main"
            v-on:tomain_page="toMainPage"
            v-on:show_favorite="showFavorite"
            :user="user"
            :count="count"
            :show_search_panel="show_search_panel"
            :bg_header="bg_header">
    </component-header>

    <div v-show="main" class="container main">
        <div class="row py-1 my-1 d-flex align-items-center justify-content-center search  bg-light text-dark">
            <div class="col-12 col-sm-6 col-md-3 col-lg-3 mb-1">
                <fieldset class="form-group d-flex align-items-center justify-content-center flex-column">
                    <label class="mx-0 mb-1">country</label>
                    <select v-model="selectedCountry" id="country" class="form-control" @click="selectCountry()">
                        <option v-for="array in filterCountrys" :value="array.country">{{ array.country }}</option>
                    </select>
                </fieldset>
            </div>
            <div class="col-12 col-sm-6 col-md-3 col-lg-3 mb-1">
                <fieldset class="form-group d-flex align-items-center justify-content-center flex-column">
                    <label class="mx-0 mb-1">min price</label>
                    <input v-model="min" id="min" class="form-control" type="text" placeholder="Price from (USD)"/>
                </fieldset>
            </div>
            <div class="col-12 col-sm-6 col-md-3 col-lg-3 mb-1">
                <fieldset class="form-group d-flex align-items-center justify-content-center flex-column">
                    <label class="mx-0 mb-1">max price</label>
                    <input v-model="max" id="max" class="form-control" type="text" placeholder="Price to (USD)"/>
                </fieldset>
            </div>
            <div class="col-12 col-sm-6 col-md-3 col-lg-3 mt-4 d-flex align-items-center justify-content-center">
                <a v-if="hide_clear_filters"
                   class="close form-control d-flex align-items-center justify-content-center w-100 py-1"
                   href="javascript:void(0);" type="button" aria-label="Close" @click="clearFilters()">
                    <span class="clear-filters mx-2">clear filters</span><span class="mx-2" aria-hidden="true">&times;</span>
                </a>
            </div>
        </div>
        <div class="row px-3 p-sm-0  p-2 d-flex align-items-center justify-content-center search">
            <div v-for="(arr, index) in changePrice" :key="arr.id" :id="arr.id" :index="index"
                 class="col-12 col-sm-6 col-md-4 col-lg-3 p-0">
                <div class="card m-1 ">
                    <div class="scale">
                        <img :src="arr.image" @click="modal(arr)" :id="'product_' + arr.id" class="card-img-top cursor" :alt="arr.country">
                    </div>
                    <div class="card-body">
                                <span v-for="n in 5" :key="n" class="">
                                   <i class="fas fa-star" style="font-size:12px"
                                      :class="{'rating-active': checkRating(n, arr)}"></i>
                               </span>
                        <div class="heart">
                            <i @click="addToFavorite(arr, $event)" :id="arr.id" class='far fa-heart'></i>
                        </div>
                        <div class="row">
                            <p class="col-6 text-start card-text m-0"><b>{{ arr.country }}</b></p>
                            <p class="col-6 text-end card-text m-0"><b>{{ arr.location }}</b></p>
                        </div>
                        <div class="row">
                            <p class="col-6 text-start m-0"><b>${{ arr.price }}</b></p>
                            <p class="col-6 text-end m-0">
                                <img :src="arr.flag" class="card-img-top flag" :alt="arr.country">
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <component-favorite
            v-if="favorite_main"
            v-on:removefavorite="removeFromFavorite"
            :favorite="showFavoriteProduct">
    </component-favorite>

    <component-add-product
            v-if="addProduct"
            v-on:addnewproduct="addNewProduct">
    </component-add-product>

    <component-footer
            :fixed_bottom="fixed_bottom">
    </component-footer>

    <component-modal
            :product="productModal">
    </component-modal>

</div>

<script src="vue.js"></script>
<script src="app.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js" integrity="sha512-bZS47S7sPOxkjU/4Bt0zrhEtWx0y0CRkhEp8IckzK+ltifIIE9EMIMTuT/mEzoIMewUINruDBIR/jJnbguonqQ=="
        crossorigin="anonymous"></script>
<script src='https://kit.fontawesome.com/a076d05399.js'></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj"
        crossorigin="anonymous"></script>

</body>
</html>
